{"ast":null,"code":"// client/src/components/Navbar.js\nimport React,{useState,useEffect}from'react';import{Link,NavLink,useNavigate}from'react-router-dom';import axios from'axios';import'./../css/Navbar.css';// if you have custom styles\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Navbar(){const[user,setUser]=useState(null);const navigate=useNavigate();// On mount, fetch current user info (email + role) or 401 if not logged in\nuseEffect(()=>{axios.get('/api/me',{withCredentials:true}).then(res=>{// expecting { user: { email: '…', role: 'admin' } }\nsetUser(res.data.user);}).catch(()=>{setUser(null);});},[]);const handleLogout=()=>{axios.post('/api/logout',{},{withCredentials:true}).then(()=>{setUser(null);navigate('/login');});};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/\",children:\"CryptoBank\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto align-items-center\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/\",end:true,children:\"Home\"})}),user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/customers\",children:\"Customers\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/wallets\",children:\"Wallets\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item mx-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"navbar-text\",children:[\"Hello, \",/*#__PURE__*/_jsx(\"strong\",{children:user.email}),\" (\",user.role,\")\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",onClick:handleLogout,children:\"Logout\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/register\",children:\"Register\"})})]})]})})]})});}","map":{"version":3,"names":["React","useState","useEffect","Link","NavLink","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","user","setUser","navigate","get","withCredentials","then","res","data","catch","handleLogout","post","className","children","to","type","id","end","email","role","onClick"],"sources":["C:/Users/NeddC/OneDrive/Documents/Degree DTS Apprenticeship/Software Engineering And Agile/Crypto-Banking/Crypto-Bank-App/my-app/client/src/components/Navbar.js"],"sourcesContent":["\r\n// client/src/components/Navbar.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link, NavLink, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './../css/Navbar.css';  // if you have custom styles\r\nexport default function Navbar() {\r\n  const [user, setUser] = useState(null);\r\n  const navigate = useNavigate();\r\n  // On mount, fetch current user info (email + role) or 401 if not logged in\r\n  useEffect(() => {\r\n    axios\r\n      .get('/api/me', { withCredentials: true })\r\n      .then(res => {\r\n        // expecting { user: { email: '…', role: 'admin' } }\r\n        setUser(res.data.user);\r\n      })\r\n      .catch(() => {\r\n        setUser(null);\r\n      });\r\n  }, []);\r\n  const handleLogout = () => {\r\n    axios\r\n      .post('/api/logout', {}, { withCredentials: true })\r\n      .then(() => {\r\n        setUser(null);\r\n        navigate('/login');\r\n      });\r\n  };\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light mb-4\">\r\n      <div className=\"container\">\r\n        <Link className=\"navbar-brand\" to=\"/\">CryptoBank</Link>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarNav\"\r\n          aria-controls=\"navbarNav\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\" />\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n          <ul className=\"navbar-nav ms-auto align-items-center\">\r\n            <li className=\"nav-item\">\r\n              <NavLink className=\"nav-link\" to=\"/\" end>\r\n                Home\r\n              </NavLink>\r\n            </li>\r\n            {user ? (\r\n              <>\r\n                {/* Show customers link only when logged in */}\r\n                <li className=\"nav-item\">\r\n                  <NavLink className=\"nav-link\" to=\"/customers\">\r\n                    Customers\r\n                  </NavLink>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <NavLink className=\"nav-link\" to=\"/wallets\">\r\n                        Wallets\r\n                    </NavLink>\r\n                </li>\r\n                {/* Greeting + role */}\r\n                <li className=\"nav-item mx-3\">\r\n                  <span className=\"navbar-text\">\r\n                    Hello, <strong>{user.email}</strong> ({user.role})\r\n                  </span>\r\n                </li>\r\n                {/* Logout button */}\r\n                <li className=\"nav-item\">\r\n                  <button\r\n                    className=\"btn btn-outline-secondary\"\r\n                    onClick={handleLogout}\r\n                  >\r\n                    Logout\r\n                  </button>\r\n                </li>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <li className=\"nav-item\">\r\n                  <NavLink className=\"nav-link\" to=\"/login\">\r\n                    Login\r\n                  </NavLink>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <NavLink className=\"nav-link\" to=\"/register\">\r\n                    Register\r\n                  </NavLink>\r\n                </li>\r\n              </>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}