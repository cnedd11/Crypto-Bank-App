{"ast":null,"code":"// client/src/components/PrivateRoute.js\nimport{useState,useEffect}from'react';import axios from'axios';import{Outlet,Link,useLocation}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PrivateRoute(){const[loggedIn,setLoggedIn]=useState(null);const location=useLocation();useEffect(()=>{axios.get('/api/me',{withCredentials:true}).then(res=>setLoggedIn(true)).catch(()=>setLoggedIn(false));},[location]);// still checking\nif(loggedIn===null)return null;// not logged in\nif(!loggedIn){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"You must \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"log in\"}),\" to view this page.\"]})});}// authorized\nreturn/*#__PURE__*/_jsx(Outlet,{});}","map":{"version":3,"names":["useState","useEffect","axios","Outlet","Link","useLocation","jsx","_jsx","jsxs","_jsxs","PrivateRoute","loggedIn","setLoggedIn","location","get","withCredentials","then","res","catch","className","children","to"],"sources":["C:/Users/NeddC/OneDrive/Documents/Degree DTS Apprenticeship/Software Engineering And Agile/Crypto-Banking/Crypto-Bank-App/my-app/client/src/components/PrivateRoute.js"],"sourcesContent":["// client/src/components/PrivateRoute.js\r\nimport { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Outlet, Link, useLocation } from 'react-router-dom';\r\n\r\nexport default function PrivateRoute() {\r\n  const [loggedIn, setLoggedIn] = useState(null);\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get('/api/me', { withCredentials: true })\r\n      .then(res => setLoggedIn(true))\r\n      .catch(() => setLoggedIn(false));\r\n  }, [location]);\r\n\r\n  // still checking\r\n  if (loggedIn === null) return null;\r\n\r\n  // not logged in\r\n  if (!loggedIn) {\r\n    return (\r\n      <div className=\"text-center mt-5\">\r\n        <p>\r\n          You must <Link to=\"/login\">log in</Link> to view this page.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // authorized\r\n  return <Outlet />;\r\n}"],"mappings":"AAAA;AACA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7D,cAAe,SAAS,CAAAC,YAAYA,CAAA,CAAG,CACrC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAAAa,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAE9BJ,SAAS,CAAC,IAAM,CACdC,KAAK,CACFY,GAAG,CAAC,SAAS,CAAE,CAAEC,eAAe,CAAE,IAAK,CAAC,CAAC,CACzCC,IAAI,CAACC,GAAG,EAAIL,WAAW,CAAC,IAAI,CAAC,CAAC,CAC9BM,KAAK,CAAC,IAAMN,WAAW,CAAC,KAAK,CAAC,CAAC,CACpC,CAAC,CAAE,CAACC,QAAQ,CAAC,CAAC,CAEd;AACA,GAAIF,QAAQ,GAAK,IAAI,CAAE,MAAO,KAAI,CAElC;AACA,GAAI,CAACA,QAAQ,CAAE,CACb,mBACEJ,IAAA,QAAKY,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BX,KAAA,MAAAW,QAAA,EAAG,WACQ,cAAAb,IAAA,CAACH,IAAI,EAACiB,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAC,QAAM,CAAM,CAAC,sBAC1C,EAAG,CAAC,CACD,CAAC,CAEV,CAEA;AACA,mBAAOb,IAAA,CAACJ,MAAM,GAAE,CAAC,CACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}